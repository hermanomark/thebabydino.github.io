<svg xmlns='http://www.w3.org/2000/svg' 
		 xmlns:xlink='http://www.w3.org/1999/xlink' 
		 viewBox='-15 -15 170 100' fill='#5200a3'>
	<style>
		[d] {
			fill: none;
			stroke: #bbc;
			stroke-width: .4px
		}
		[x] { font: 4px consolas, monospace }
		#n * { marker-end: url(#a) }
		#n *, use + [d] { stroke: #ef9134 }
		#a * { fill: #ef9134 }
		.m { fill: #a35200 }
		.k { fill: #a30052 }
		[x='150'] {
			fill: grey;
			font-size: 5px;
			text-anchor: end
		}
	</style>
	<marker id='a' viewBox='0 -4 8 8' refX='6' 
					markerWidth='5' markerHeight='5' orient='auto'>
		<path d='M8 0 0-4V4'/>
	</marker>
	<g id='u'>
		<text x='112'>n-1</text>
		<path id='e' d='M110-4h10v5h-10'/><!-- box extension -->
	</g><!-- unique part first case -->
	<g id='c'>
		<text x='-10'>l</text>
		<text class='m' x='-10' y='15'>m</text>
		<text class='k' x='-10' y='30'>k</text>
		<g id='l'>
			<use xlink:href='#x' x='-45'/>
			<g id='p'>
				<text id='d' x='34' y='-1'>...</text>
				<use xlink:href='#d' x='45'/>
				<g id='x'>
					<path id='b' d='M45-4v5h20v-5h-20h10v5'/><!-- base box -->
					<use xlink:href='#e' x='-45'/>
				</g><!-- extended box -->
				<use xlink:href='#b' x='45'/>
			</g>
			<g id='o'>
				<g id='t'>
					<text x='4'>0</text>
					<text x='14'>1</text>
					<text x='47'>i-1</text>
					<text x='59'>i</text>
					<text x='92'>n-3</text>
				</g>
				<text x='24'>2</text>
				<text x='67'>i+1</text>
				<text x='102'>n-2</text>
			</g>
		</g><!-- line -->
		<use class='m' xlink:href='#l' y='15'/><!-- line 2 -->
		<use class='k' xlink:href='#p' y='30'/>
		<use xlink:href='#b' x='-35' y='30'/>
		<g id='q'>
			<g id='n'>
				<path id='f' d='M15 1v9'/>
				<path id='g' d='M15 26v-9'/>
				<path id='h' d='M14 26l-8-9'/>
			</g>
			<use xlink:href='#n' x='10'/>
		</g>
		<use xlink:href='#n' x='35'/>
		<use xlink:href='#q' x='45'/>
		<use xlink:href='#q' x='80'/>
		<use xlink:href='#f' x='-10'/>
		<use xlink:href='#h' x='20'/>
		<use xlink:href='#h' x='65'/>
	</g><!-- COMMON part -->
	<use class='m' xlink:href='#u' y='15'/>
	<g class='k' transform='translate(0 30)'>
		<use xlink:href='#o' />
		<use xlink:href='#u'/>
	</g>
	<path d='M10 26h-10v5h10'/>
	<use xlink:href='#n' x='100'/>
	<use xlink:href='#h' x='110'/>
	<use xlink:href='#g' x='-10'/>
	<path d='M5 31v4h119v-9'/>
	<text x='150' y='15'>polygon</text><!-- polygon case end -->
	
	<use xlink:href='#c' y='50'/><!-- copy of COMMON PART -->
	<g class='k' transform='translate(0 80)'>
		<use xlink:href='#t' x='10'/><!-- common text on last line -->
		<text x='47'>i-2</text>
		<text x='92'>n-4</text>
	</g>
	<text x='150' y='65'>polyline</text>
</svg>